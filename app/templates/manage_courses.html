{% extends "base.html" %}

{% block title %}Manage Course{% endblock %}

{% block content %}
  <h1>{% if course %}Edit Course{% else %}Add New Course{% endif %}</h1>

  <form class="questionnaire-form" method="POST" action="{{ url_for('main.manage_course', course_id=course.id if course else None) }}">
    <!-- Course Number -->
    <label for="course_num">Course Number</label>
    <input type="text" class="input-register" id="course_num" name="course_num" value="{% if course %}{{ course.course_num }}{% endif %}" required>

    <!-- Course Name -->
    <label for="course_name">Course Name</label>
    <input type="text" class="input-register" id="course_name" name="course_name" value="{% if course %}{{ course.course_name }}{% endif %}" required>

    <!-- University Name -->
    <label for="univ_id">University</label>
    <select class="input-register" id="univ_id" name="univ_id" required>
      <option value="" selected disabled>Select</option>
      {% for university in universities %}
        <option value="{{ university.id }}" {% if course and course.univ_id == university.id %}selected{% endif %}>{{ university.university }}</option>
      {% endfor %}
    </select>

    <!-- Course Level -->
    <label for="level">Course Level</label>
    <select class="input-register" id="level" name="level" required>
      <option value="" selected disabled>Select</option>
      <option value="Bachelor" {% if course and course.level == 'Bachelor' %}selected{% endif %}>Bachelor</option>
      <option value="Master" {% if course and course.level == 'Master' %}selected{% endif %}>Master</option>
      <option value="Doctorate" {% if course and course.level == 'Doctorate' %}selected{% endif %}>Doctorate</option>
    </select>

    <!-- Specialist -->
    <label for="specialist_education">Specialist Education Qualification</label>
    <select  class="input-register" name="specialist_education" id="specialist_education" required>
      <option value="" selected disabled>Select</option>
      <option value="science" {% if course and course.specialist_education == 'Science' %}selected{% endif %}>Science</option>
      <option value="technology" {% if course and course.specialist_education == 'Technology' %}selected{% endif %}>Technology</option>
      <option value="engineering" {% if course and course.specialist_education == 'Engineering' %}selected{% endif %}>Engineering</option>
      <option value="mathematics" {% if course and course.specialist_education == 'Mathematics' %}selected{% endif %}>Mathematics</option>
      <option value="ict" {% if course and course.specialist_education == 'ICT' %}selected{% endif %}>Specified Information and Communication Technology (ICT)</option>
      <option value="none" {% if course and course.specialist_education == 'None' %}selected{% endif %}>No Specific Interest</option>
    </select>

    <!-- Professional Year -->
    <label for="prof_year">Professional Year</label>
    <input type="checkbox"  class="input-register" id="prof_year" name="prof_year" {% if course and course.prof_year %}checked{% endif %}>

    <!-- Duration -->
    <label for="duration">Duration (Years)</label>
    <input type="number"  class="input-register" id="duration" name="duration" value="{% if course %}{{ course.duration }}{% endif %}" required>

    <!-- Tuition Fee -->
    <label for="tuition_fee">Tuition Fee</label>
    <input type="number" class="input-register" step="0.01" id="tuition_fee" name="tuition_fee" value="{% if course %}{{ course.tuition_fee }}{% endif %}" required>

    <!-- Regional Study -->
    <label for="regional">Regional Study</label>
    <input type="checkbox" class="input-register" id="regional" name="regional" {% if course and course.regional %}checked{% endif %}><br><br>

    <!-- Submit Button -->
    <div class="button-container">
      <button type="submit" class="button-edit">{% if course %}Update{% else %}Add New{% endif %} Course</button>
      <button class="button-danger" onclick="window.location.href='{{ url_for('main.courses') }}'">Cancel</button>
    </div>
  </form>
{% endblock %}
